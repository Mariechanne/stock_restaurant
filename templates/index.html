<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Gestion de Stock - Ingrédients</title>
</head>
<body>
    <h1>Ingrédients en stock</h1>

    <table border="1" cellpadding="8">
        <tr>
            <th>Nom</th>
            <th>Unité</th>
            <th>Stock Cuisine</th>
            <th>Stock Magasin</th>
            <th>Actions</th>
        </tr>
        {% for ingr in ingredients %}
        <tr>
            <td>{{ ingr.nom }}</td>
            <td>{{ ingr.unite }}</td>
            <td>{{ ingr.stock_cuisine }}</td>
            <td>{{ ingr.stock_magasin }}</td>
            <td>
                <form action="/modifier/{{ ingr.id }}" method="POST" style="display:inline;">
                    <label>Cuisine :</label>
                    <input type="number" name="stock_cuisine" step="0.01" value="{{ ingr.stock_cuisine }}" required>
                    <label>Magasin :</label>
                    <input type="number" name="stock_magasin" step="0.01" value="{{ ingr.stock_magasin }}" required>
                    <button type="submit">Modifier</button>
                </form>
                <form action="/supprimer/{{ ingr.id }}" method="POST" style="display:inline;">
                    <button type="submit" onclick="return confirm('Supprimer cet ingrédient ?');">Supprimer</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>

    <h2>Ajouter un ingrédient</h2>
    <form action="/ajouter" method="POST">
        <label>Nom :</label>
        <input type="text" name="nom" required><br>
        <label>Unité :</label>
        <input type="text" name="unite" required><br>
        <label>Stock Cuisine :</label>
        <input type="number" name="stock_cuisine" step="0.01" value="0"><br>
        <label>Stock Magasin :</label>
        <input type="number" name="stock_magasin" step="0.01" value="0"><br>
        <button type="submit">Ajouter</button>
    </form>
</body>
</html>
