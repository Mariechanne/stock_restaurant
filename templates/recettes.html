<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Fiches Techniques</title>
</head>
<body>
    <h1>Cr√©er une nouvelle recette</h1>
    <form method="POST">
        <label>Nom de la recette :</label>
        <input type="text" name="nom" required><br><br>

        <h3>Ingr√©dients utilis√©s</h3>
        {% for ingr in ingredients %}
            <input type="checkbox" name="ingredient_id" value="{{ ingr.id }}">
            {{ ingr.nom }} ({{ ingr.unite }})
            <input type="number" step="0.01" name="quantite" placeholder="Quantit√© utilis√©e">
            <br>
        {% endfor %}
        <br>
        <button type="submit">Cr√©er la recette</button>
    </form>

    <hr>
    <h2>Recettes existantes</h2>
    <ul>
        {% for recette in recettes %}
        <li>
            <strong>{{ recette.nom }}</strong>
            (<a href="{{ url_for('modifier_recette', id=recette.id) }}">‚úè Modifier</a>
            <form action="{{ url_for('supprimer_recette', id=recette.id) }}" method="POST" style="display:inline;">
                <button type="submit" onclick="return confirm('Supprimer cette recette ?')">üóë Supprimer</button>
            </form>)
            <ul>
                {% for ri in recette.ingredients %}
                    <li>{{ ri.ingredient.nom }} : {{ ri.quantite }} {{ ri.ingredient.unite }}</li>
                {% endfor %}
            </ul>
        </li>
        {% endfor %}
    </ul>

    <p><a href="{{ url_for('home') }}">‚Üê Retour √† l'accueil</a></p>
</body>
</html>
